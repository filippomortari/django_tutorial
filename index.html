<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">

<title>Django practical</title>

<meta name="description"
	content="To get you working with the Python Django Framework, and not against it">
<meta name="author" content="Filippo Mortari">

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style"
	content="black-translucent" />

<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/white.css" id="theme">

<!-- Code syntax highlighting -->
<!-- <link rel="stylesheet" href="lib/css/zenburn.css"> -->

<link rel="stylesheet" href="css/tomorrow_night.css">

<!-- Printing and PDF exports -->
<script>
	var link = document.createElement('link');
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css'
			: 'css/print/paper.css';
	document.getElementsByTagName('head')[0].appendChild(link);
</script>

<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<section>
				<img src="img/django-logo-negative.png" width="50%;" />
				<h1 class="home">Web application development using Django</h1>
				<h3 class="home">To get you working with the Python Django
					Framework, and not against it</h3>
				<p>
					Created by <a href="mailto:f.mortari@imperial.ac.uk">Filippo
						Mortari</a>
				</p>
			</section>

			<section>
				<h1>Who is this guy?</h1>
				<h2>(yeah, that’s right, yet another fancy presentation. sue
					me.)</h2>
				<img src="img/fil.jpg" alt="Me, obviously" width="30%;" class="left" />
				<ul class="left"
					style="margin-top: 3.5em; width: 60%; line-height: 1.7">
					<li>Research Software Developer at the BSS</li>
					<ul>
						<li>software for the management of the data generated by the
							biologists and computational modelers in Systems Biology</li>
						<li>web apps for many different research groups and Health
							Care Professionals within the Faculty of Medicine and the five
							Hospitals in Imperial College Healthcare NHS Trust</li>
					</ul>
					<li>interested in the internet and tech</li>
					<li>has beard</li>
				</ul>
			</section>

			<section>
				<h1>Today's lecture outline</h1>
				<ul>
					<li class="fragment">Quick review of web concepts</li>
					<li class="fragment">Introduction to Django</li>
					<li class="fragment">Practical</li>
					<ul class="fragment">
						<li class="fragment">Django basics</li>
						<li class="fragment">Templates and static media</li>
						<li class="fragment">Models and databases</li>
						<li class="fragment">Models, templates, and view wired
							alltogether</li>
						<li class="fragment">More Advanced concepts</li>
						<ul class="fragment">
							<li>User authentication</li>
							<li>Working with templates</li>
						</ul>
					</ul>
				</ul>
			</section>

			<section>
				<h1>Introduction to Django</h1>
				<h2>Prerequisites</h2>
				<ul>
					<li>Python</li>
					<li>HTML, CSS, JavaScript</li>
					<li>HTTP</li>
					<li>SQL</li>
				</ul>
				<h2>Outcomes</h2>
				<ul>
					<li>Ability to create a database-driven website</li>
				</ul>
			</section>

			<section>
				<h1>What is Django?</h1>
				<img src=img/d.gif />
				<ul>
					<li class="fragment">A python web application framework</li>
					<ul class="fragment">
						<li>encourages rapid development and clean, pragmatic design</li>
						<li>full stack (: full-stack frameworks are ones that help us
							with the full development stack from the user interface till the
							data store.)</li>
					</ul>
					<li class="fragment">Open source</li>
					<li class="fragment">10 years old</li>
					<li class="fragment">Maintained by a non-profit foundation</li>
				</ul>
			</section>

			<section>
				<h1>Why web applications?</h1>
				<ul>
					<li class="fragment">The web is ubiquitous and dominant</li>
					<li class="fragment">Browsers are everywhere</li>
					<li class="fragment">It’s cross-platform</li>
					<li class="fragment">It’s multi-purpose</li>
					<li class="fragment">It’s unavoidable</li>
				</ul>
			</section>

			<section>
				<h1>Why Django?</h1>
				<h2>non tech reasons</h2>
				<ul>
					<li class="fragment">Mainstream</li>
					<li class="fragment">Well engineered</li>
					<li class="fragment">Extremely well documented</li>
					<li class="fragment">Large, helpful community</li>
				</ul>
			</section>

			<section>
				<h1>Why Django?</h1>
				<h2>tech reasons</h2>
				<ul>
					<li class="fragment">Python: NumPy, SciPy, matplotlib,
						IPython, Biopython...</li>
					<li class="fragment">“MVC”</li>
					<li class="fragment">Cross-platform</li>
					<li class="fragment">Database neutral</li>
					<li class="fragment">Self-contained (“macroframework”)</li>
					<li class="fragment">PaaS support</li>
				</ul>
			</section>

			<section>
				<h1>Recap the web</h1>
				<img src="img/theweb.png" alt="the web" />
			</section>

			<section>
				<h1>How to use Python in the web?</h1>
				<h2>CGI scripts...</h2>
				<pre>
					<code class="python">
import MySQLdb, os
if os.environ['PATH_INFO'] == '/':
	print 'Content-Type: text/html'
	print
	print '&lt;!DOCTYPE html&gt;'
	print '&lt;html&gt;&lt;head&gt;&lt;title&gt;Library&lt;/title&gt;&lt;/head&gt;&lt;body&gt;'
	print '&lt;h1&gt;Books&lt;/h1&gt;'
	print '&lt;ul&gt;'
	with MySQLdb.connect(db='ctu', user='user', passwd='password', host='127.0.0.1') as c:
		c.execute('SELECT title FROM books ORDER BY published DESC LIMIT 5')
		for row in c.fetchall():
			print '&lt;li&gt;%s&lt;/li&gt;' % row[0]
	print '&lt;/ul&gt;'
	print '&lt;/body&gt;&lt;/html&gt;'
					</code>
				</pre>
			</section>

			<section>
				<h1>Why not CGI?</h1>
				<ul>
					<li>Error prone</li>
					<li>Insecure</li>
					<li>Tedious (see connection handling)</li>
					<li>Not modular</li>
					<li>Mixes HTML, SQL, CSS, JavaScript, Python</li>
				</ul>

			</section>

			<section>
				<h1>CGI vs Django</h1>
				<img src="img/cgi.png" class="left"
					style="width: 60%; border-right: 1px dashed #bbb;" /> <img
					src="img/folder_struct.png" class="left" style="width: 35%" />
			</section>

			<!-- Example of nested vertical slides -->
			<section>
				<section>
					<h1>now let's stop with the bla bla bla..</h1>
					<img alt="" src="img/death_pp.jpg" s />
				</section>
				<section>
					<h1>and let's tango with Django!</h1>
					<img alt="" src="img/tangodjango.jpg" />
				</section>
			</section>

			<section>
				<section>
					<h1>CTU: initial specification</h1>
					<h2>In this first practical we'll create a basic but fully
						functional Django app to manage studies run by a ficticious
						Clinical Trials Unit.</h2>
				</section>
				<section>
					<h1>Getting started</h1>
					<ol>
						<li>Log into Windows on a lab computer</li>
						<li>Start Eclipse</li>
						<pre>
							<code>
Start > All Programs > eclipse
							</code>
						</pre>
						<li>Create a workspace on the C: drive for your Python
							projects:</li>
						<pre>
							<code>
File &gt; Switch Workspace &gt; Other...
Workspace: &quot;C:\Users\&lt;your username&gt;\PythonWorkspace&quot;
							</code>
						</pre>
						<li>Configure the Python interpreter:</li>
						<pre>
							<code>
Window > Preferences > PyDev > Interpreters - Python Interpreter > Quick Auto Config > OK > OK
							</code>
						</pre>
						<li>Close the welcome screen</li>
						<aside class="notes">The Django web server is set to
							--noreload by default .This means you’ll have to restart it
							whenever you change your code unless you change the configuration
							(ask us). If you want to keep the code that you write during the
							practical then you’ll need to copy your workspace onto your
							network drive at the end</aside>
					</ol>
				</section>
			</section>
			<section>
				<section>
					<h1>Creating your Django project</h1>
					<ol>
						<li>Create an empty project</li>
						<pre>
							<code>
File > New > Other...
PyDev > PyDev Django Project > Next
Project name: CTU
Next > Next > Database settings > username: &lt;your username&gt; password: admin
Yes
							</code>
						</pre>
						<li>Create a main app:</li>
						<pre>
							<code>
CTU (right-click) > Django > Create application
"main" > OK
							</code>
						</pre>

					</ol>
				</section>

				<section>
					<h1>Creating your Django project</h1>
					<ol start="4">
						<li>Register your app in CTU/CTU/<i>settings.py</i></li>
						<pre>
							<code>
Add 'main' to INSTALLED_APPS
							</code>
						</pre>
						<li>Make sure your server works:</li>
						<pre>
							<code>
CTU (right-click) > Run as > 1. PyDev:Django
							</code>
						</pre>
						<li>visit the page <a href="http://localhost:8000/"
							target=_blank>localhost:8000</a></li>
					</ol>
					<img alt="django-dev-server-firstrun"
						src="img/django-dev-server-firstrun.png">
				</section>

			</section>

			<section>
				<h1>Creating a view</h1>
				<ol>
					<li>open CTU/main/<i>views.py</i> and copy-paste this piece of
						code:
					</li>
					<pre>
							<code class="python">
from django.http import HttpResponse

def index(request):
    return HttpResponse(&quot;&lt;h1&gt;'main' says hey there world!&lt;/h1&gt;&quot;)
							</code>
						</pre>
				</ol>
				<aside class="notes">
					We first import the HttpResponse object from the django.http
					module.<br> Each view exists within the views.py file as a
					series of individual functions. In this instance, we only created
					one view - called index.<br> Each view takes in at least one
					argument - a HttpRequest object, which also lives in the
					django.http module. Convention dictates that this is named request,
					but you can rename this to whatever you want if you so desire.<br>
					Each view must return a HttpResponse object. A simple HttpResponse
					object takes a string parameter representing the content of the
					page we wish to send to the client requesting the view.<br>
				</aside>
			</section>

			<section>
				<section>
					<h1>Mapping URLs</h1>
					<ol>
						<li>add a new <i>urls.py</i> for better modularization:
						</li>
						<pre>
							<code class="python">
main(right click) > New > File > urls.py
							</code>
					</pre>
						<li>copy-paste in the newly generated file:</li>
						<pre>
							<code class="python">
from django.conf.urls import patterns, url
from main import views

urlpatterns = patterns('',
        url(r'^$', views.index, name='index'))
							</code>
						</pre>
						<li>add this line in CTU/CTU/<i>urls.py</i>:
						</li>
						<pre>
							<code class="python">
url(r'^main/', include('main.urls')),
							</code>
						</pre>
					</ol>
					<aside class="notes"></aside>
				</section>
				<section>
					<ol start="4">
						<li>verify that everything works fine..</li>
						<a href="http://localhost:8000/main/" target=_blank>localhost:8000/main/</a>
					</ol>
					<img alt="" src="img/hello_world.png">
				</section>
			</section>

			<section>
				<section>
					<h1>we can do better: templating</h1>
					<ol>
						<li>create templates folder</li>
						<pre>
							<code>
CTU (right click) > New > Folder > Folder name: templates/main
							</code>
						</pre>
						<li>add these lines in CTU/CTU/<i>settings.py</i> (somewhere
							under BASE_DIR)
						</li>
						<pre>
							<code>
TEMPLATE_PATH = os.path.join(BASE_DIR, 'templates')

TEMPLATE_DIRS = [
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
    TEMPLATE_PATH,
]
							</code>
						</pre>
						<aside class="notes"></aside>
					</ol>
				</section>
				<section>
					<ol start=3>
						<li>create a new file called <i>index.html</i> under
							CTU/templates/main
						</li>
						<li>copy-paste this snippet in the newly generated file</li>
						<pre>
							<code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;

    &lt;head&gt;
        &lt;title&gt;CTU&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;h1&gt;CTU main app says...&lt;/h1&gt;
        hello world! &lt;strong&gt;{{ boldmessage }}&lt;/strong&gt;&lt;br /&gt;
    &lt;/body&gt;

&lt;/html&gt;
							</code>
						</pre>
						<aside class="notes"></aside>
					</ol>
				</section>
				<section>
					<ol start=5>
						<li>add this import to the CTU/main/<i>views.py</i>
						</li>
						<pre>
							<code>
from django.shortcuts import render
							</code>
						</pre>
						<li>modify the <i>index()</i> method as follows
						</li>
						<pre>
							<code>
def index(request):

    teacher = 'Filippo'
    # Construct a dictionary to pass to the template engine as its context.
    # Note the key boldmessage is the same as {{ boldmessage }} in the template!
    context_dict = {'boldmessage': "%s taught me how to inject dynamic content in templates!" % teacher }

    # Return a rendered response to send to the client.
    # We make use of the shortcut function to make our lives easier.
    # Note that the first parameter is the template we wish to use.
    return render(request, 'main/index.html', context_dict)
							</code>
						</pre>
						<aside class="notes"></aside>
						<li>check everything by reloading <a
							href="http://localhost:8000/main/" target=_blank>localhost:8000/main/</a></li>
					</ol>
				</section>
			</section>
			<section>
				<section>
					<h1>Serving static assets</h1>
					<ol>
						<li>create static folder</li>
						<pre>
							<code>
CTU (right click) > New > Folder > Folder name: static/img
							</code>
						</pre>
						<li>add these lines in CTU/CTU/<i>settings.py</i> (somewhere
							under BASE_DIR)
						</li>
						<pre>
							<code>
STATIC_URL = '/static/'

STATIC_PATH = os.path.join(BASE_DIR,'static')

STATICFILES_DIRS = (
    STATIC_PATH,
)
							</code>
						</pre>
						<aside class="notes">You’ve typed in some code, but what
							does it represent? The first variable STATIC_URL defines the base
							URL with which your Django applications will find static media
							files when the server is running. For example, when running the
							Django development server with STATIC_URL set to /static/ like in
							the code example above, static media will be available at
							http://127.0.0.1:8000/static/. The official documentation on
							serving up static media warns that it is vitally important to
							make sure that those slashes are there. Not configuring this
							problem can lead to a world of pain. While STATIC_URL defines the
							URL to access media via the web server, STATICFILES_DIRS allows
							you to specify the location of the newly created static directory
							on your local disk. Just like the TEMPLATE_DIRS tuple,
							STATICFILES_DIRS requires an absolute path to the static
							directory. Here, we re-used the BASE_DIR defined in Section 5.1
							to create the STATIC_PATH.</aside>
						<li>drop <a href="img/clinical_trials.png" target=_blank>this
								image</a> into CTU/static/img folder
						</li>
					</ol>
				</section>
				<section>
					<ol start=4>
						<li>modify CTU/templates/main/<i>index.html</i> as follows
						</li>
						<pre>
							<code>
&lt;!DOCTYPE html&gt;

{% load staticfiles %} &lt;!-- New line --&gt;

&lt;html&gt;

    &lt;head&gt;
        &lt;title&gt;CTU&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;h1&gt;CTU main app says...&lt;/h1&gt;
        hello world! &lt;strong&gt;{{ boldmessage }}&lt;/strong&gt;&lt;br /&gt;
        &lt;img src=&quot;{% static &quot;img/clinical_trials.png&quot; %}&quot; alt=&quot;Picture of ctu&quot; /&gt; &lt;!-- New line --&gt;
    &lt;/body&gt;

&lt;/html&gt;
							</code>
						</pre>
						<li>hopefully <a href="http://localhost:8000/main/"
							target=_blank>localhost:8000/main/</a> contains an image...
						</li>
					</ol>
				</section>
			</section>
			<section>
				<section>
					<h1>Models and databases</h1>
					<img src="img/chris.jpg" alt="chris" style="width: 25%;"
						class="left" />
					<div class="left"
						style="width: 50%; margin-left: 3%; margin-top: 1%;">
						<h3>
							THE MAN taught you how to master both
							<ul style="font-size: 0.9em; font-weight: 600;">
								<li>Object Oriented Design</li>
								<li>Relational Database Schema Design</li>
							</ul>
						</h3>
						<img src="img/orm.gif" />
						<h3>two different worlds that complement each other</h3>
					</div>
				</section>
				<section>
					<h1>Models and databases</h1>
					<img src="img/orm2.jpg" alt="orm" style="width: 30%;" class="left" />
					<div class="left"
						style="width: 60%; margin-left: 3%; margin-top: 1%;">
						<ul>
							<li>but you just want to design your object model and assume
								that "somehow" your modifications will be cascaded to your
								relational schema...</li>
							<li>Modern web frameworks come with <a
								href="http://en.wikipedia.org/wiki/Object-relational_mapping"
								target=_blank>Object Relational Mapping</a> off the shelf
							</li>
							<li>ORM is cool because:</li>
							<ul>
								<li>Changes to the object model are made in one place</li>
								<li>Huge reduction in code</li>
								<li>Provides an object oriented query language</li>
								<li>Navigation. You can navigate object relationships
									transparently. Related objects are automatically loaded as
									needed.</li>
								<li>You can easily plug and unplug different databases
									(e.g. Postgres, MySql, etc.. etc..)</li>
							</ul>
						</ul>
					</div>
				</section>
				<section>
					<h1>Models and databases</h1>
					<h2>our very simple model with One-to-many relationship</h2>
					<img alt="" src="img/model.png" />
					<ol>
						<li>dont forget to migrate the database:</li>
						<pre>
							<code>
CTU (right-click) > Django > Migrate
							</code>
						</pre>
						<li>create a superuser (from command promt run this from the
							root folder CTU):</li>
						<pre>
							<code>
H:\users\whatever...\CTU> python manage.py createsuperuser
							</code>
						</pre>
					</ol>
				</section>
				<section>
					<h1>Creating Models</h1>
					<ol start=3>
						<li>open CTU/main/models.py and copy-paste this snippet</li>
						<pre>
							<code>
class Study(models.Model):
    name = models.CharField(max_length=200)
    startDate = models.DateField()
    
    def __unicode__(self):  #For Python 2, use __str__ on Python 3
        return self.name
    
class Patient(models.Model):
    firstName = models.CharField(max_length=200)
    lastName = models.CharField(max_length=200)
    study = models.ForeignKey(Study)
    
    def __unicode__(self):  #For Python 2, use __str__ on Python 3
        return self.firstName + self.lastName
							</code>
						</pre>
						<li>you changed your models, now make the migrations</li>
						<pre>
							<code>
CTU (right-click) > Django > Make migrations > type main
							</code>
						</pre>
					</ol>
				</section>
				<section>
					<h1>Creating Models</h1>
					<ol start=5>
						<li>and apply the migrations (this will automatically modify
							your schema accordingly, FTW!):</li>
						<pre>
							<code>
CTU (right-click) > Django > Migrate
							</code>
						</pre>
						<li>copy <a href="populate_main.py" target=_blank>this
								populating script</a> in the root folder of your project and execute
							it:
						</li>
						<pre>
							<code>
H:\users\whatever...\CTU> python populate_main.py
							</code>
						</pre>
					</ol>
				</section>
				<section>
					<h1>Creating Models</h1>
					<h2>Let's verify it worked..</h2>
					<ol>
						<li>let's change the code in CTU/main/<i>views.py</i>
						</li>
						<pre>
							<code>
from django.shortcuts import render
from django.http import HttpResponse
from main.models import Study

def index(request):

    teacher = 'Filippo'
    study_list = Study.objects.all()
    context_dict = {'boldmessage': "%s taught me how to inject dynamic content in templates!" % teacher , 'studies':study_list}
    return render(request, 'main/index.html', context_dict)
							</code>
						</pre>

					</ol>
				</section>
				<section>
					<ol start=2>
						<li>and the CTU/templates/main/<i>index.html</i> :
						</li>
						<pre>
							<code>
&lt;!DOCTYPE html&gt;

{% load staticfiles %}
&lt;!-- New line --&gt;

&lt;html&gt;

&lt;head&gt;
&lt;title&gt;CTU&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;h1&gt;CTU main app says...&lt;/h1&gt;
	hello world!
	&lt;strong&gt;{{ boldmessage }}&lt;/strong&gt;
	&lt;br /&gt;&lt;br /&gt;
	{% if studies %}
	&lt;table&gt;
		&lt;tr&gt;
			&lt;th&gt;Study&lt;/th&gt;
		&lt;/tr&gt;
		{% for study in studies %}
		&lt;tr&gt;
			&lt;td&gt;{{ study.name }} &lt;/td&gt;
		&lt;/tr&gt;
		{% endfor %}
	&lt;/table&gt;
	
	{% else %}
	&lt;strong&gt;There are no studies present.&lt;/strong&gt; {% endif %}
&lt;/body&gt;

&lt;/html&gt;
							</code>
						</pre>
					</ol>
					<ul>
						<li>more info about Model DataTypes and Objects relationships
							<a href="https://docs.djangoproject.com/en/1.7/topics/db/models/"
							target=_blank>here</a>
						</li>
					</ul>
				</section>
			</section>

			<section>
				<section>
					<h1>Let's create a page that lists all of the patients under a
						study</h1>
					<ol>
						<li>replace the line that prints the study in
							CTU/templates/index.html</li>
						<pre>
					<code>
&lt;td&gt;&lt;a href=&quot;study/{{ study.pk }}&quot;&gt;{{ study.name }} &lt;/a&gt;&lt;/td&gt;
					</code>
					</pre>
						<li>modify the url regex in CTU/main/<i>urls.py</i>: <pre>
						<code>
urlpatterns = patterns('',
        url(r'^$', views.index, name='index'),
        url(r'^study/(?P&lt;studyID&gt;\d+)/$', views.study, name='study'),) # add this line
						</code>
					</pre>
					</ol>
				</section>
				<section>
					<ol start=3>
						<li>add a new method in CTU/main/<i>views.py</i>:</li>
						<pre>
						<code>
def study(request, studyID):
    
    results = {}
    
    try:
        study = Study.objects.get(pk=studyID)
        patients = Patient.objects.filter(study=study)
        
        results['studyName'] = study.name
        results['patients'] = patients
        results['study'] = study
        
        
    except Study.DoesNotExist:
        pass
    
    return render(request, 'main/study.html', results)
						</code>
						</pre>
					</ol>
				</section>
				<section>
					<ol start=4>
						<li>create a new template called <i>study.html</i> and place it in CTU/templates/main:</li>
						<pre>
						<code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Rango&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;h1&gt;{{ studyName }}&lt;/h1&gt;
        {% if study %}
            {% if patients %}
            &lt;ul&gt;
                {% for patient in patients %}
                &lt;li&gt;{{ patient }}&lt;/li&gt;
                {% endfor %}
            &lt;/ul&gt;
            {% else %}
                &lt;strong&gt;No patients currently under this study.&lt;/strong&gt;
            {% endif %}
        {% else %}
            The specified study {{ studyName }} does not exist!
        {% endif %}
    &lt;/body&gt;
&lt;/html&gt;
						</code>
						</pre>
					</ol>
				</section>
				<section>
				<ol start=5>
					<li>you should be able to see urls that match study IDs by mouse-hovering the links in <a href="http://localhost:8000/main/" target=_blank>localhost:8000/main/</a></li>
				</ol>
					<img alt="" src="img/new_links.png" />
					
				</section>
			</section>
			
			<section>
				<section>
					<h2>Too much code duplication in the templates? No probs</h2>
					<h1>Template Inheritance</h1>
				</section>
				<section>
					<ol>
						<li>Add this file called <i>base.html</i> in CTU/templates/main</li>
						<pre>
							<code>
&lt;!DOCTYPE html&gt;

&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;CTU - {% block title %}How to Tango with Django!{% endblock %}&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div&gt;
            {% block body_block %}{% endblock %}
        &lt;/div&gt;

        &lt;hr /&gt;

        &lt;div&gt;
            &lt;p style=&quot;font-size:10px; color:red; font-weight:bold;&quot;&gt;All rights reserved -- CTU Inc.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;							
							</code>
						</pre>
					</ol>
				</section>
				<section>
					<ol start="2">
						<li>As a proof of concept lets slightly modify the <i>index.html</i></li>
						<pre>
							<code>
{% extends 'main/base.html' %}
{% load staticfiles %}


{% block title %} Homepage{% endblock %}
{% block body_block %}
	&lt;h1&gt;CTU main app says...&lt;/h1&gt;
	hello world!
	&lt;strong&gt;{{ boldmessage }}&lt;/strong&gt;
	&lt;br /&gt;&lt;br /&gt;
	{% if studies %}
	&lt;table&gt;
		&lt;tr&gt;
			&lt;th&gt;Study&lt;/th&gt;
		&lt;/tr&gt;
		{% for study in studies %}
		&lt;tr&gt;
			&lt;td&gt;&lt;a href=&quot;study/{{ study.pk }}&quot;&gt;{{ study.name }} &lt;/a&gt;&lt;/td&gt;
		&lt;/tr&gt;
		{% endfor %}
	&lt;/table&gt;
	
	{% else %}
	&lt;strong&gt;There are no studies present.&lt;/strong&gt; {% endif %}

{% endblock %}							
							</code>
						</pre>
					</ol>
				</section>
			</section>
			
			<section>
				<h1>Left to you...</h1>
				<ul>
					<li>Try to add a page that embeds a form for creating new studies...</li>
					<li>Hints:</li>
					<ul>
						<li>Take a look at how Django handles <a href=https://docs.djangoproject.com/en/1.7/topics/forms/" target=_blank>forms</a></li>
						<li>create a <i>forms.py</i> file under CTU/main in order to maintain <i>views.py</i> clean</li>
						<li>create a new method called <i>add_study()</i> in <i>views.py</i> for handling the form </li>
						<li>create a template for the form</li>
						<li>map the view <i>add_study()</i> in <i>main/urls.py</i> </li>
						<li>create a link in the <i>index.html</i> for the new page</li>
					</ul>
				</ul>
			</section>

			

			<section style="text-align: left;">
				<h1>The end</h1>
				<h2><i>“and then we emerged to see the stars again”</i> - Dante</h2>
				<br />
				<h3 style="font-size:1.7em;">Questions?</h3>
			</section>

		</div>

	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls : true,
			progress : true,
			history : true,
			center : true,

			transition : 'slide', // none/fade/slide/convex/concave/zoom

			// Optional reveal.js plugins
			dependencies : [ {
				src : 'lib/js/classList.js',
				condition : function() {
					return !document.body.classList;
				}
			}, {
				src : 'plugin/markdown/marked.js',
				condition : function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src : 'plugin/markdown/markdown.js',
				condition : function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src : 'plugin/highlight/highlight.js',
				async : true,
				condition : function() {
					return !!document.querySelector('pre code');
				},
				callback : function() {
					hljs.initHighlightingOnLoad();
				}
			}, {
				src : 'plugin/zoom-js/zoom.js',
				async : true
			}, {
				src : 'plugin/notes/notes.js',
				async : true
			} ]
		});
	</script>

</body>
</html>
